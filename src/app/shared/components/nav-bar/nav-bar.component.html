<nav class="navbar navbar-expand-lg px-4">
  <div class="container-fluid">
    <img class="nav_logo mx-4" src="/assets/imgs/logo.png" alt="Logo" />

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarTogglerDemo01"
      aria-controls="navbarTogglerDemo01"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <li class="nav-item">
          <a id="home" class="nav-link" aria-current="page" href="/user/home"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a id="product" class="nav-link" aria-current="page" href="/user/shop"
            >Product</a
          >
        </li>
        <li class="nav-item">
          <a
            id="message"
            class="nav-link"
            aria-current="page"
            href="/user/message"
            >Chat</a
          >
        </li>
      </ul>
    </div>
    <div class="header d-flex flex-row justify-content-between col-12 col-md-7">
      <div
        *ngIf="isShowSearch"
        class="d-flex col-9 col-md-7 search-group position-relative"
      >
        <div class="p-inputgroup">
          <input
            type="text"
            pInputText
            placeholder="Keyword"
            [(ngModel)]="keySearch"
            (ngModelChange)="onSearch($event)"
          />
          <button
            type="button"
            pButton
            icon="pi pi-search"
            styleClass="p-button-warn"
          ></button>
        </div>
        <p-listbox
          *ngIf="showSearchRes"
          class="position-absolute p-listbox"
          [options]="searchRes"
          [group]="true"
          [listStyle]="{ 'max-height': '250px' }"
        >
          <ng-template let-group pTemplate="group">
            <div class="flex align-items-center">
              <span>{{ group.itemName }}</span>
            </div>
          </ng-template>
          <ng-template let-item pTemplate="item">
            <div
              class="flex align-items-center gap-2 d-flex"
              (click)="routeToProduct(item)"
            >
              <img
                *ngIf="item.group == 'Products'"
                src="{{ item?.image }}"
                width="50px"
                height="20px"
              />
              <div>{{ item?.itemName }}</div>
            </div>
          </ng-template>
        </p-listbox>
      </div>
      <ul class="navbar-nav d-flex flex-row gap-2">
        <li class="nav-item">
          <button class="nav_profile-cart">
            <i class="bi bi-cart2" (click)="routeToCart()"></i>
          </button>
        </li>
        <li class="nav-item">
          <button class="nav_profile-cart">
            <i class="bi bi-person" (click)="menu.toggle($event)"></i>
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<p-menu #menu [model]="items" [popup]="true"></p-menu>
